<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ü–∞–Ω–µ–ª—å –≤–µ–¥—É—â–µ–≥–æ</title>
<link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="host-container">
    <img src="/static/logo.png" class="logo-small">
    <h1>üé§ –ü–∞–Ω–µ–ª—å –≤–µ–¥—É—â–µ–≥–æ</h1>
    <div id="qr-section">
        <p>–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ, —á—Ç–æ–±—ã –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è üì±</p>
        <img src="data:image/png;base64,{{ qr_image }}" width="200" style="border-radius:10px;">
        <p style="color:#fff; font-size:14px;">{{ join_url }}</p>
    </div>
    <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å">
    <button onclick="checkPass()">–í–æ–π—Ç–∏</button>
    <div id="controls" style="display:none;">
        <p id="status">–û–∂–∏–¥–∞–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞...</p>
        <button onclick="nextQuestion()">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å ‚ñ∂Ô∏è</button>
        <a href="/results" target="_blank"><button>–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button></a>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.4/socket.io.min.js"></script>
<script>
const socket = io();
function checkPass(){
    if(document.getElementById("password").value==="radiologyadmin"){
        document.getElementById("controls").style.display="block";
        document.getElementById("qr-section").style.display="block";
    } else alert("–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!");
}
function nextQuestion(){
    socket.emit("next_question", {});
    document.getElementById("status").innerText="–í–æ–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!";
}
</script>
</body>
</html>
